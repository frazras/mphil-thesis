\chapter{Background and Motivation} % (fold)
\label{cha:background_and_motivation}
\lipsum[1]\parencite{modcom}

Robotics development is a continually growing field with a promising future. the
current sate of robotics can be compared to that of the PC industry in its
embryonic years.\parencite{billgates} Many \parencite{billgates} of the issues that the PC industry faced are redefining
themselves in today's robotics arena. The main ones include high costs, a lack
of common standards and generic platforms. Whenever it becomes necessary to
develop a new robot for a particular task,it is often necessary to build
it from scratch. This is because there are few general purpose platforms that meet
all the needs of the typical robotics engineer, student and hobbyist\parencite{citation3}. The
``killer app'' for the robotics field will be a platform that can address these issues
and thereby create a broader adoption of robotics technology. As with the
computer industry, one of the main markets that utilize robotics is education.
Robotics is used to teach students of all ages and levels on topics ranging from
science to social skills \parencite{citation11}. General Purpose Robotic kits are one of the many
`edutainment' methods that are developed. These kits provide the user with the
ability to build robots for a large range of applications.

An increased interest in robotics and robotics development has fueled 
the search for a robotics platform that will be useful for schools and the 
typical hobbyist. There has been research into finding a suitable
platform that is flexible, inexpensive, extensible and capable of handling
projects of varying complexities \parencite{suitable, bot-mate}. Popular kits exist that meet some of
these characteristics. For instance, the Lego Mindstorms\texttrademark  robotics
kit is one of the most popular robotics platforms that can achieve many of these
requirements. It however achieves a few of them through unconventional
`hacking' of the platform, or by purchasing third party equipment. This is not
always easy to accomplish for beginner developers. This project will outline
the means by which the \texttt{X10ABOT} robotics platform provides for these
specifications seamlessly through the features built into its design.

The \texttt{X10ABOT} robotics platform  was designed from the ground up by integrating useful strategies
found in other general purpose and custom robotics kits. This along
with other innovations form the \texttt{X10ABOT} robotics platform's
architecture. Innovations in both hardware and software have created a powerful 
system ready to build any robot for a school project or hobbyist invention.
This was accomplished by focusing on achieving the combined goals of modularity, 
extensibility and scalability while maintaining a relatively inexpensive cost.

The motivating factors for this project extended from the need for involving
robotics in education. The  inclusion of robotics in a school curriculum has been
shown to improve performance in subjects of a technical or scientific nature \parencite{rbot}. 
Robotics development
allows for students to apply practical techniques to complete tasks and 
to solve scientific problems. The result or response from their work are
immediately observable through the physical response of the robot. In addition,
robotics  present a `fun factor' that attracts young people.
To adequately utilize robotics as a viable educational platform, certain hurdles 
that were being faced had to be overcome. This lead to the creation of the \texttt{X10ABOT} robotics
platform. This project was aimed at creating a platform that could 
adequately provide a full featured robotics framework for students, all at a
price lower than the current market price for a full featured robotics kit.
This will further assist in the the commoditization of robotics kits and subsequently
increase the possibility for activities such as robotics competitions between schools.
Other driving motivations for the project include the creation of a platform that
would provide a flexible starting point for other robotics research projects. The kit
should also be useful enough for hobbyist users who are interested in robotics
and automation, the \texttt{X10ABOT} robotics platform should be an attractive tool to be utilized in their projects.

\section{Similar Projects} % (fold)
\label{sec:similar}
We researched the structure of several robotics research projects and commercial robotics kits and identified a number of design objectives that were useful for a general purpose architecture. We aimed at creating a robotics framework that was able to support more sensors and actuators than most of the popular robotics kits, it had to support most of the common off-the-shelf sensors and actuators and yet be easy to use without limiting creativity. 

%Mention in the field kits like Tetrixx
We reviewed many types of robotics projects and came across a few interesting concepts. The following projects were encountered at varied intervals between design and completion, they both influenced and validated the design decision made in the \xten project. We will review a few of them and an overview of their architecture. 

The Tetrixx robotics project was developed in the late 1990's. It sought to overcome the issue of expandability being faced by its contemporaries such as MIT's 6.270 board and Handyboard projects. To overcome this limitation, the Tetrixx project employed specialized sensor and actuator expansion boards connected over a bus. The bus supported up to 64 expansion boards and allowed it to scale to far more peripherals than limited by the connectors from one single controller \parencite{tetrixx}. This was one of the first systems which influenced the expansion board concept used in our project.

Another interesting robotics kit project was the LEGO Mindstorms NXT robotics development platform. This is a very popular robotics kit among schools and hobbyists. It has three actuator ports and four sensor ports on its controller unit. Additional sensors and actuators can be added either by pairing with another controller or by purchasing third party multiplexing devices that allow multiple peripheral devices connected to one port. The port design is quiet extensible with numerous analogue and digital I/O pins and an \iic bus to support even very complex devices. The Mindstorms kit has the distinct advantage of having a very active community of developers who have worked to create a large set of programming interfaces that can be used to write robotics applications for the platform. These include compilers for some of the most popular programming languages such as, C, Java, Python, Ruby, Ada, Lua and Matlab. The Mindstorms kit represented to us a very modern architecture and served as a standard by which we measured a lot of our innovations. The Mindstorms kit however lacked the scalability we required, its other architectural attributes, however, were emulated in our design. It was also advantageous that most of the system was open sourced. We modeled our sensor and actuator ports after a similar design, we also took note of the software architecture and structured the \xten to be able to facilitate a virtual machine type plugin that can interpret the Lego NXT bytecode. We started work on this but realized that the magnitude of effort was beyond the scope of this thesis.

We explored the architecture of the Hannibal Hexapod robotics project that had a commendable capability of managing the input and output signals for over one hundred (100) physical sensors and actuators. The Hexapod robot controller is based on the Subsumption Architecture and is fully distributed across eight(8) onboard computers: one each for the main controller, the robots body and each of its six legs. All these modules are connected via an \iic serial communication bus. These components were the realization of the Hannibal Hexapod's design requirements of being scalable, modular, flexible, robust and adaptive. The Hannibal project greatly influenced the use of an \iic peripheral bus as the central communication line on a distributed system of robotic components. This seemed to have aided in the management of a large number of sensors and actuators. Since scalability was a desired attribute, we adopted this approach.

We also explored the architecture of the Rapid Robot Prototyping(R2P) project that had shared a lot of the design objectives that were outlined for the \xten architecture. R2P's design goals were to be an inexpensive, open source, modular architecture for rapid prototyping of robotic applications \parencite{r2p}. Similar to the \xten, this architecture was aimed at students and hobbyists creating robotic applications on low powered microcontrollers. The architecture was built around a distributed system of modules communicating over a high speed serial data CAN bus. It emphasizes its plug and play capability by providing ports on each module to support daisy-chaining of multiple peripheral boards. On the software aspect, the R2P has embedded firmware on its peripheral modules to act as a Hardware Abstraction Layer(HAL) to encourage modularity. On the main controller, it implemented a Real Time Operating System(RTOS), a publish/subscribe middleware and a Virtual Machine that supports an embedded scripting language. The R2P system was encountered in the post-design stage of the \xten project. It however validated a very large portion of the design of our architecture. The R2P system was very similar to \xten only differing in a few areas e.g. a CAN serial bus was used instead of \iic serial bus. 
%
%
These examples influenced and validated some of our design decisions for the components of the \xten architecture. We chose a combination of the best features of these technologies which we found to improve modularity, scalability and extensibility and combined them to construct our framework. 

%{TABLE HERE}
%Table showing comparison of robotic platforms and a measure of their
%capabilities





\subsection{Modularity} % (fold)
\label{sub:modularity}
Modularity in the design of a robotics kit architecture defines the capability to incrementally add fully independent sub-systems to a robotics project without significantly modifying the existing configuration. According to Oraw and Tinder \parencite{mars}, ``The modularity of a robot is demonstrated by its expandable intelligence. Sensory modules that implement the robot's data protocol can be plugged into the system without reprogramming the original components''. They also mention that the key to modularity is the use of peripheral modules. These were just a few of the design decisions made to satisfy our requirement of a modular architecture. 

We chose to use a distributed system as a part of the architecture. This allowed for the control of the overall system to be shared across multiple independently operating modules. These modules operate efficiently because there is very minimal usage of shared resources, this is because each module is usually self sufficient and simply passes information back and forth between itself and the main controller over the data bus \parencite{show figure}. In a centralized system which is dependent on one main processor, management of peripherals can become complex when handling a large number of modules \parencite{centralized figure}. The controller's resources and connections are limitingly finite and there may be contention for these resources which may even prevent the inclusion of additional modules without the need to remove a previous module or somehow hack the system.  Using a distributed system not only reduces complexity but it also allows for changes to be made across the entire architecture without affecting the existing setup \parencite{avcithesis}.

A subsequent advantage of a modular architecture is software and hardware reuse, and rapid prototyping. Peripherals can be incrementally added to build more complex projects and subsequently reduce the overall cost of development \parencite{modcom}. Different functions of the system can be delegated to independent and specialized modules. The aim was to simplify the control problem by decomposing the global task into local tasks for the robot's subsystems \parencite{paper[6]}. This reduces the computational load on the main processor by delegating the majority of the low level sensor and actuator processing to sub-modules. 

Another common practice that many robotics architectures employ is the inclusion of peripheral sensor and actuator boards in their design. This can be seen in the Tetrixx project \parencite{tetrixx} and numerous other robots built around a distributed processing architecture. Peripheral boards are secondary computational units that are responsible for low level control operations. These peripheral boards interpret and execute data and control commands￼communicated between the main controller and the board's sensors and actuators. They are connected to a peripheral bus which will be able to uniquely identify each module along the communication line. 

The peripheral bus that we selected supports up to 112 modules that can facilitate advanced robotics projects. Another requirement of the peripheral bus is high bandwidth that will be able to accommodate the possibility of a large number of active peripherals in a single session. We designed peripheral boards, named daughterboards that support sensors and actuators connected to the main controller over a fast, addressable serial peripheral bus. The daughterboards interact with the main controller board through a master-slave relationship. In our implementation, there exists just two types of components, the motherboard and daughterboards. Both type of modules have processors designated for their particular tasks, of which the motherboard may be required to be more powerful.


 
% subsection modularity (end)

\subsection{Scalability} % (fold)
\label{sub:scalability}
Robotics kits that can support projects of varying complexities should have the ability to support as many sensors and actuators as may be required for a complex robotics project. A robotics project can range from robots that complete simple tasks that require one or two sensors and actuators to robots that manage tens of sensors and actuators necessary to complete their task. As the complexity of a robotics project increases, generally, so does the number of peripherals required to complete the tasks. Projects that may solve reasonably technical tasks will sometimes have to improvise by finding creative ways to use available resources, however there may be times that the scale of the project requires a large number of sensors and actuators to adequately perform the task. Robots that are known for using a large number of sensors and actuators are usually ones that try to replicate animal or human ability. One such example is the Hannibal Hexapod Robot. Hannibal receives a tremendous amount of sensor  information while continually controlling its almost 20 servo motors.  The spider-like robot has over 60 sensors of different types \parencite{hannibal}. Other types of robots that utilize many sensors and actuators include robotics arms, full humanoid robots, and animal replicas like MARS: the Modular  Autonomous Robotics Snake \parencite{mars}. In all of the above examples, the supporting architecture facilitated the inclusion and efficient management of a significant number of sensors and actuators.

 We wanted to ensure that the cost of scaling was not prohibitive and that the developers would save on both time and money when implementing their large-scale robotics project. A distributed robotics architecture is key to decreasing the cost-to-scale factor. In a distributed system, the processing is shared between a central processing unit or a motherboard and numerous specialized modules. These modules are usually focused on doing simple tasks and therefore will not require complex hardware or devices to accomplish them. This can therefore allow them to to be inexpensive and simply connect to the motherboard to report the results of its computations and fetch data on request.


 We needed a robust architecture that provided more than just an increase in connection points for sensors and actuators. It is critically important that there is adequate hardware and software support for the increase in additional devices. Proper power management is very important when managing tens to hundreds of sensors and actuators. These devices can behave erroneously or simply fail to perform if they are not supplied with adequate power. It is also very important to place electrically noisy and high powered devices on separate power sources. This is especially true with motors and sensitive, low powered electronics should never share the same power source. This can electrically damage sensitive components of a controller and render the robot unusable. It is also necessary that the system be sized for its maximum power requirements and a capable power source selected. Under-powering a robot can also cause unpredictable results. Sometimes it may even be necessary to have multiple power sources on a robot that are adequately isolated. Our scalable architecture took these requirements into consideration.

Another requirement that may be easily overlooked is a structured and organized wiring and connection system. A robotics project can become increasingly difficult to develop if there is a web of wires and connections attached to the dozens of devices that may be present on a robot. A design that will mitigate this issue is the use of a distributed system supported by a main bus with an addressable serial data connection. If the architecture is designed with a single peripheral bus as its communication backbone which connects all devices, most of the wiring can be placed in a single organized package. The advantage of using an addressable serial bus is that these usually utilize very few connection lines. They also allow for new modules to be daisy chained onto each other. Any addition of a new set of sensors or actuators will simply equate to physically plugging a single set of wires wire from one module to another.

%Scalable: Support for multiple sensors and actuators.



\subsection{Extensibility} % (fold)
\label{sub:extensibility}
A truly extensible robotics system permits future addition and support of new sensors and actuators which might not have been included in the initial design. Extensibility of a robotics kit provides developers with the freedom to define the hardware configuration with respect to the available types of sensors and actuators \parencite{rdk}. A robotics kit may never be able to guarantee support for all types of sensors and actuators, but a truly extensible architecture will provides the means for developers to enable support for their particular hardware. 

We used a middleware architecture to hide the low-level details of interface between the components that make up the \xten architecture. This level of abstraction allowed for an interface between the main controller and the sensors and actuators which supported a high level definition of their operations. We saw this technique applied across numerous other platforms, this structural design is referred to as robotics middleware. ``Robotics middleware provides functionality that is to be used and extended by the roboticists. Therefore, the tools provided by the middleware layer have to be capable of extending the robot's functionality in order to be able to cope with its growing capabilities \parencite{advanced}." There are a variety of ways to practically achieve extensibility through middleware but the general idea is to devise a method of allowing communication between the software on both sides of the middleware. This further abstracts the hardware interaction to the developer. Defining new hardware is now done through a configuration system and the middleware communicates information to and fro without exposing the communication protocol between the source and destination. This further hides any complex hardware setup and presents a flat structure even on a distributed system.
Our system was designed to support as many types of sensors and actuators as possible. To achieve this, we had to find a common denominator for all sensors and actuators. Sensors and actuators have many requisite hardware technologies that need to be supported. We realized that these technologies were subsets or a combination of a finite set of operations. Technologies such as pulse width modulation, hardware interrupts, digital input/output and analog input are just some of the basic ones used by most sensors and actuators. We determined that if we could define this complete set of hardware operations, we could control most if not all sensors and actuators. This would allow extensibility to currently existing and possibly new types of sensors and actuators.
%Extensible: Permit Customized commands for peripherals



% subsection extensibility (end)

\subsection{Economics} % (fold)
An important requirement that will permit wider adoption of the robotics kit is ensuring that the kit's cost and its cost to scale are kept relatively low. The cost of electronics is is a decreasing function of time, however these prices are not always instantly obvious in the field of robotics. It is almost an accepted fact that robotics is an expensive field, the prices of robotics kits range from hundreds to thousands of U.S. dollars. This is a major point of restriction, robots are expensive and often beyond the resource of many persons and even universities and organizations who want to delve into the field of robotics \parencite{vr}. In order to make a robotics kit that will be an attractive option for hobbyist roboticists and school programs even as low as the elementary school level, it has to be available at a competitive price point. A very popular platform for doing robotics is the Arduino development board which at the time of this publication ranged from U.S. \$30 to \$70. The Arduino development board is not specialized for robotics but has all the major tools necessary to build a functional robot if the developer is skilled in electronics. It is also one of the most popular development platforms at robotics competitions.
The Arduino board also has a distinct advantage of being open-source. This gives the developer the advantage of having access to free software upgrades and longer hardware support. Being open-source also means that a skilled developer will be able to make modification to the system's code and even build their own hardware replica. These advantages can mean significant saving if a solution can be accomplished by the developer instead of purchasing an upgraded version or proprietary hardware.

%Inexpensive: Relatively low initial cost andd cost to scale
\label{sub:economics}

% subsection economics (end)

% section design_objectives (end)